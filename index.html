<!DOCTYPE html>
<html lang="it">
<head>
    <meta charset="UTF-8">
    <title>Questionario</title>
    <script>
        // Funzione per gestire l'invio del form e salvare le risposte
        function handleFormSubmit(event) {
            event.preventDefault(); // Evita l'invio del form al server
            const formData = new FormData(event.target);
            const results = {};

            // Raccogli le risposte dai checkbox e dalla select
            results.coniglio = formData.getAll("coniglio");
            results.goat = formData.get("goat");

            // Salva le risposte in Local Storage
            localStorage.setItem("questionarioRisposte", JSON.stringify(results));

            // Visualizza le risposte salvate
            mostraRisposte(results);
        }

        // Funzione per mostrare le risposte salvate
        function mostraRisposte(risposte) {
            const resultContainer = document.getElementById("results");
            resultContainer.innerHTML = `
                <h3>Risposte degli Utenti:</h3>
                <p><strong>1. Quali tra i seguenti è il più coniglio:</strong> ${risposte.coniglio.join(", ")}</p>
                <p><strong>2. Chi è il GOAT:</strong> ${risposte.goat}</p>
            `;
        }

        // Funzione per caricare le risposte salvate al caricamento della pagina
        function caricaRisposteSalvate() {
            const risposteSalvate = localStorage.getItem("questionarioRisposte");
            if (risposteSalvate) {
                const risposte = JSON.parse(risposteSalvate);
                mostraRisposte(risposte);
            }
        }

        // Chiama la funzione per caricare le risposte salvate quando la pagina viene caricata
        window.onload = caricaRisposteSalvate;
    </script>
</head>
<body>
    <h2>Rispondi alle seguenti domande e clicca su Invia per spedire i risultati.</h2>
    <form action="#" method="post" onsubmit="handleFormSubmit(event)">
        <fieldset>
            <legend>1. Quali tra i seguenti è il più coniglio (possibile scegliere anche più di una risposta)?</legend>
            <input type="checkbox" id="jacopo" name="coniglio" value="jacopo">
            <label for="jacopo">jacopo</label><br>
            <input type="checkbox" id="serafino" name="coniglio" value="serafino">
            <label for="serafino">serafino</label><br>
            <input type="checkbox" id="leo" name="coniglio" value="leo">
            <label for="leo">leo</label><br>
        </fieldset>
        
        <fieldset>
            <legend>2. Chi è il GOAT?</legend>
            <select name="goat" id="goat">
                <option value="francescoContri">Francesco Contri</option>
                <option value="contriFrancesco">Contri Francesco</option>
                <option value="scontrino">Scontrino1708</option>
            </select>
        </fieldset>
        
        <br>
        <button type="submit">Invia</button>
        <button type="reset">Annulla</button>
    </form>

    <div id="results"></div> <!-- Contenitore per visualizzare le risposte salvate -->
</body>
</html>

